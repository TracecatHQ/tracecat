# This sample workflow executes 3 steps in sequence.
# 1) activity1, takes arg1 as input, and put result as result1.
# 2) it runs a parallel block which runs below sequence branches in parallel
#  2.1) sequence 1
#    2.1.1) activity2, takes result1 as input, and put result as result2
#    2.1.2) activity3, takes arg2 and result2 as input, and put result as result3
#  2.2) sequence 2
#    2.2.1) activity4, takes result1 as input, and put result as result4
#    2.2.2) activity5, takes arg3 and result4 as input, and put result as result5
# 3) activity6, takes result3 and result5 as input, and put result as result6.

variables:
  another_url: "http://api:8000"
  value: 1

root:
  sequence:
    # let key be unique within a workflow
    # Downstream, we can refer to this action by this key
    - ref: initial_http_request
      action: core.http_request
      args:
        url: http://api:8000/test/items/1
        method: GET

    - parallel:
        - ref: calling_example_1
          action: core.example.my_function
          args:
            age: 20
            is_member: true
        - ref: calling_example_2
          action: core.example.another_function
          args:
            name: "asssssssssss"
            age: 3000000
            is_member: false
