title: Kite Workflow
description: Tests correctness, context passing, and joins.
config:
  # Static -> node execution order is fixed, less performant
  # Dynamic -> node execution order is not fixed
  scheduler: dynamic
entrypoint:
  ref: a
inputs:
  another_url: "http://api:8000"
  value: 1

triggers:
  - type: webhook
    ref: my_webhook
    id: wh-XXXXXX
    entrypoint: a # This can be any
    args:
      url: http://api:8000/test/items/1
      method: GET
  - type: schedule # or cron
    ref: my_schedule
    id: sch-XXXXXX
    entrypoint: a
    args:
      cron: "0 0 * * *"
      url: http://api:8000/test/items/1
      method: GET

# The workflow executor will parse these into nodes
# This contains information about the tasks and their dependencies, which
# form an execution DAG.
actions:
  - ref: a
    action: example.my_function
    args:
      name: "name from a"
      age: 1000000000
      is_member: true

  - ref: b
    action: example.my_function
    args:
      name: "name from b"
      age: ${{ ACTIONS.a.result.age -> int}}
      is_member: true
    depends_on:
      - a

  - ref: c
    action: example.another_function
    args:
      name: "name from c"
      age: 3000000
      is_member: false
    depends_on:
      - a

  - ref: d
    action: example.another_function
    args:
      name: "name from d"
      age: 3000000
      is_member: false
    depends_on:
      - b
      - c
  - ref: e
    action: example.another_function
    args:
      name: "finale name from e"
      age: 3000000
      is_member: false
    depends_on:
      - d
