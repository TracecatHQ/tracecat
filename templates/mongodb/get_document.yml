definition:
  title: Get MongoDB document
  description: |
    Get a document from a MongoDB collection.
    Returns stringified ObjectID `_id` and the doc `document`.
  entrypoint:
    ref: get_document
    expects:
      database_name: str
      collection_name: str
      filter: any
      projection: any
  triggers:
    - type: webhook
      ref: receive_mongodb_query
      entrypoint: get_document
  returns: ${{ ACTIONS.get_document.result }}

  actions:
    - ref: get_document
      action: integrations.mongodb.perform_mongodb_crud
      args:
        operation: find_one
        database_name: ${{ TRIGGER.database }}
        collection_name: ${{ TRIGGER.collection }}
        params:
          filter: ${{ TRIGGER.filter }}
          projection: ${{ TRIGGER.projection }}
