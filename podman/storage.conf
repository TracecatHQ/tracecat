[storage]
# Set explicit storage driver
driver = "overlay"

# === Storage Location Configuration ===
# Runtime storage for temporary container data (tmpfs-backed)
runroot = "/run/containers/storage"

# Persistent storage for images, volumes, and container data
graphroot = "/var/lib/containers/storage"

[storage.options]
# Prevent additional image stores for security
# This ensures all images are in controlled locations
# Blocking additional stores prevents:
# - Unauthorized image sources
# - Path traversal via symlinks
# - Access to sensitive host directories
additionalimagestores = []

# === Mount Configuration ===
# Use fuse-overlayfs for rootless container storage
mount_program = "/usr/bin/fuse-overlayfs"
# Prevent device file creation in overlay mounts
mountopt = "nodev"

[storage.options.overlay]
# === Overlay Storage Configuration ===
# Use SELinux-aware overlay filesystem
mount_program = "/usr/bin/fuse-overlayfs"
mountopt = "nodev"
