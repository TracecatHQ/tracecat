openapi: 3.1.0
info:
  title: Tracecat API
  summary: Tracecat API
  description:
    Tracecat is the security automation platform built for builders. You
    can operate Tracecat in headless mode by using the API to create, manage, and
    run workflows.
  termsOfService: https://docs.google.com/document/d/e/2PACX-1vQvDe3SoVAPoQc51MgfGCP71IqFYX_rMVEde8zC4qmBCec5f8PLKQRdxa6tsUABT8gWAR9J-EVs2CrQ/pub
  contact:
    name: Tracecat Founders
    email: founders@tracecat.com
  license:
    name: AGPL-3.0
    url: https://www.gnu.org/licenses/agpl-3.0.html
  version: 0.1.0
paths:
  /health:
    get:
      summary: Check Health
      operationId: check_health_health_get
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
                title: Response Check Health Health Get
  /webhooks/{path}/{secret}:
    post:
      tags:
        - public
      summary: Incoming Webhook
      description: "Webhook endpoint to trigger a workflow.


        This is an external facing endpoint is used to trigger a workflow by sending
        a webhook request.

        The workflow is identified by the `path` parameter, which is equivalent to
        the workflow id."
      operationId: incoming_webhook_webhooks__path___secret__post
      parameters:
        - name: path
          in: path
          required: true
          schema:
            type: string
            title: Path
        - name: secret
          in: path
          required: true
          schema:
            type: string
            title: Secret
        - name: validate_method
          in: query
          required: false
          schema:
            type: boolean
            default: true
            title: Validate Method
        - name: x-tracecat-enable-runtime-tests
          in: header
          required: false
          schema:
            anyOf:
              - type: string
              - type: "null"
            title: X-Tracecat-Enable-Runtime-Tests
      requestBody:
        content:
          application/json:
            schema:
              anyOf:
                - type: object
                - type: "null"
              title: Payload
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema: {}
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /callback/{service}:
    post:
      tags:
        - public
      summary: Webhook Callback
      description: "Receive a callback from an external service.


        This can be used to trigger a workflow from an external service, or perform
        some other actions."
      operationId: webhook_callback_callback__service__post
      parameters:
        - name: service
          in: path
          required: true
          schema:
            type: string
            title: Service
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: string
                title: Response Webhook Callback Callback  Service  Post
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /workflows:
    get:
      tags:
        - workflows
      summary: List Workflows
      description: "List workflows.


        If `library` is True, it will list workflows from the library. If `library`
        is False, it will list workflows owned by the user."
      operationId: list_workflows_workflows_get
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: library
          in: query
          required: false
          schema:
            type: boolean
            default: false
            title: Library
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/WorkflowMetadataResponse"
                title: Response List Workflows Workflows Get
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    post:
      tags:
        - workflows
      summary: Create Workflow
      description: Create new Workflow with title and description.
      operationId: create_workflow_workflows_post
      security:
        - OAuth2PasswordBearer: []
        - APIKeyHeader: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateWorkflowParams"
      responses:
        "201":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WorkflowMetadataResponse"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /workflows/{workflow_id}:
    get:
      tags:
        - workflows
      summary: Get Workflow
      description:
        Return Workflow as title, description, list of Action JSONs, adjacency
        list of Action IDs.
      operationId: get_workflow_workflows__workflow_id__get
      security:
        - OAuth2PasswordBearer: []
        - APIKeyHeader: []
      parameters:
        - name: workflow_id
          in: path
          required: true
          schema:
            type: string
            title: Workflow Id
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WorkflowResponse"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    patch:
      tags:
        - workflows
      summary: Update Workflow
      description: Update a workflow.
      operationId: update_workflow_workflows__workflow_id__patch
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: workflow_id
          in: path
          required: true
          schema:
            type: string
            title: Workflow Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateWorkflowParams"
      responses:
        "204":
          description: Successful Response
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    delete:
      tags:
        - workflows
      summary: Delete Workflow
      description: Delete a workflow.
      operationId: delete_workflow_workflows__workflow_id__delete
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: workflow_id
          in: path
          required: true
          schema:
            type: string
            title: Workflow Id
      responses:
        "204":
          description: Successful Response
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /workflows/{workflow_id}/copy:
    post:
      tags:
        - workflows
      summary: Copy Workflow
      description: Copy a workflow. Not intended for users.
      operationId: copy_workflow_workflows__workflow_id__copy_post
      security:
        - OAuth2PasswordBearer: []
        - APIKeyHeader: []
      parameters:
        - name: workflow_id
          in: path
          required: true
          schema:
            type: string
            title: Workflow Id
      requestBody:
        content:
          application/json:
            schema:
              anyOf:
                - $ref: "#/components/schemas/CopyWorkflowParams"
                - type: "null"
              title: Params
      responses:
        "204":
          description: Successful Response
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /workflows/{workflow_id}/commit:
    post:
      tags:
        - workflows
      summary: Commit Workflow
      description: "Commit a workflow.


        This deploys the workflow and updates its version. If a YAML file is provided,
        it will override the workflow in the database."
      operationId: commit_workflow_workflows__workflow_id__commit_post
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: workflow_id
          in: path
          required: true
          schema:
            type: string
            title: Workflow Id
      requestBody:
        content:
          multipart/form-data:
            schema:
              allOf:
                - $ref: "#/components/schemas/Body_commit_workflow_workflows__workflow_id__commit_post"
              title: Body
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema: {}
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /workflows/{workflow_id}/definition:
    get:
      tags:
        - workflows
      summary: Get Workflow Definition
      description: Get the latest version of a workflow definition.
      operationId: get_workflow_definition_workflows__workflow_id__definition_get
      security:
        - OAuth2PasswordBearer: []
        - APIKeyHeader: []
      parameters:
        - name: workflow_id
          in: path
          required: true
          schema:
            type: string
            title: Workflow Id
        - name: version
          in: query
          required: false
          schema:
            anyOf:
              - type: integer
              - type: "null"
            title: Version
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WorkflowDefinition"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /workflow-executions:
    get:
      tags:
        - workflow-executions
      summary: List Workflow Executions
      description: List all workflow executions.
      operationId: list_workflow_executions_workflow_executions_get
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: workflow_id
          in: query
          required: false
          schema:
            anyOf:
              - type: string
                pattern: wf-[0-9a-f]{32}
              - type: "null"
            title: Workflow Id
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/WorkflowExecutionResponse"
                title: Response List Workflow Executions Workflow Executions Get
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /workflow-executions/{execution_id}:
    get:
      tags:
        - workflow-executions
      summary: Get Workflow Execution
      description: Get a workflow execution.
      operationId: get_workflow_execution_workflow_executions__execution_id__get
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: execution_id
          in: path
          required: true
          schema:
            type: string
            pattern: wf-[0-9a-f]{32}:exec-[\w-]+
            title: Execution Id
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WorkflowExecutionResponse"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /workflows/{workflow_id}/controls/trigger:
    post:
      tags:
        - workflows
      summary: Trigger Workflow Run
      description: Trigger a workflow run.
      operationId: trigger_workflow_run_workflows__workflow_id__controls_trigger_post
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: workflow_id
          in: path
          required: true
          schema:
            type: string
            title: Workflow Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TriggerWorkflowRunParams"
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StartWorkflowResponse"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /workflows/{workflow_id}/webhook:
    post:
      tags:
        - triggers
      summary: Create Webhook
      description: Create a webhook for a workflow.
      operationId: create_webhook_workflows__workflow_id__webhook_post
      security:
        - OAuth2PasswordBearer: []
        - APIKeyHeader: []
      parameters:
        - name: workflow_id
          in: path
          required: true
          schema:
            type: string
            title: Workflow Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpsertWebhookParams"
      responses:
        "201":
          description: Successful Response
          content:
            application/json:
              schema: {}
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    get:
      tags:
        - triggers
      summary: Get Webhook
      description: Get the webhook from a workflow.
      operationId: get_webhook_workflows__workflow_id__webhook_get
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: workflow_id
          in: path
          required: true
          schema:
            type: string
            title: Workflow Id
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WebhookResponse"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    patch:
      tags:
        - triggers
      summary: Update Webhook
      description:
        Update the webhook for a workflow. We currently supprt only one
        webhook per workflow.
      operationId: update_webhook_workflows__workflow_id__webhook_patch
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: workflow_id
          in: path
          required: true
          schema:
            type: string
            title: Workflow Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpsertWebhookParams"
      responses:
        "204":
          description: Successful Response
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /schedules:
    get:
      tags:
        - schedules
      summary: List Schedules
      description: List all schedules for a workflow.
      operationId: list_schedules_schedules_get
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: workflow_id
          in: query
          required: false
          schema:
            anyOf:
              - type: string
                pattern: wf-[0-9a-f]{32}
              - type: "null"
            title: Workflow Id
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Schedule"
                title: Response List Schedules Schedules Get
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    post:
      tags:
        - schedules
      summary: Create Schedule
      description: Create a schedule for a workflow.
      operationId: create_schedule_schedules_post
      security:
        - OAuth2PasswordBearer: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateScheduleParams"
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Schedule"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /schedules/{schedule_id}:
    get:
      tags:
        - schedules
      summary: Get Schedule
      description: Get a schedule from a workflow.
      operationId: get_schedule_schedules__schedule_id__get
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: schedule_id
          in: path
          required: true
          schema:
            type: string
            pattern: sch-[0-9a-f]{32}
            title: Schedule Id
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Schedule"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    post:
      tags:
        - schedules
      summary: Update Schedule
      description:
        Update a schedule from a workflow. You cannot update the Workflow
        Definition, but you can update other fields.
      operationId: update_schedule_schedules__schedule_id__post
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: schedule_id
          in: path
          required: true
          schema:
            type: string
            pattern: sch-[0-9a-f]{32}
            title: Schedule Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateScheduleParams"
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Schedule"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    delete:
      tags:
        - schedules
      summary: Delete Schedule
      description: Delete a schedule from a workflow.
      operationId: delete_schedule_schedules__schedule_id__delete
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: schedule_id
          in: path
          required: true
          schema:
            type: string
            pattern: sch-[0-9a-f]{32}
            title: Schedule Id
      responses:
        "204":
          description: Successful Response
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /schedules/search:
    get:
      tags:
        - schedules
      summary: Search Schedules
      description: "**[WORK IN PROGRESS]** Search for schedules."
      operationId: search_schedules_schedules_search_get
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SearchScheduleParams"
        required: true
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/Schedule"
                type: array
                title: Response Search Schedules Schedules Search Get
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
      security:
        - OAuth2PasswordBearer: []
  /actions:
    get:
      tags:
        - actions
      summary: List Actions
      description: List all actions for a workflow.
      operationId: list_actions_actions_get
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: workflow_id
          in: query
          required: true
          schema:
            type: string
            title: Workflow Id
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ActionMetadataResponse"
                title: Response List Actions Actions Get
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    post:
      tags:
        - actions
      summary: Create Action
      description: Create a new action for a workflow.
      operationId: create_action_actions_post
      security:
        - OAuth2PasswordBearer: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateActionParams"
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ActionMetadataResponse"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /actions/{action_id}:
    get:
      tags:
        - actions
      summary: Get Action
      description: Get an action.
      operationId: get_action_actions__action_id__get
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: action_id
          in: path
          required: true
          schema:
            type: string
            title: Action Id
        - name: workflow_id
          in: query
          required: true
          schema:
            type: string
            title: Workflow Id
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ActionResponse"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    post:
      tags:
        - actions
      summary: Update Action
      description: Update an action.
      operationId: update_action_actions__action_id__post
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: action_id
          in: path
          required: true
          schema:
            type: string
            title: Action Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateActionParams"
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ActionResponse"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    delete:
      tags:
        - actions
      summary: Delete Action
      description: Delete an action.
      operationId: delete_action_actions__action_id__delete
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: action_id
          in: path
          required: true
          schema:
            type: string
            title: Action Id
      responses:
        "204":
          description: Successful Response
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /events/search:
    get:
      tags:
        - events
        - search
      summary: Search Events
      description:
        "**[DEPRECATED]** Search for events based on query parameters.


        Note: currently on supports filter by `workflow_id` and sort by `published_at`."
      operationId: search_events_events_search_get
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EventSearchParams"
        required: true
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/Event"
                type: array
                title: Response Search Events Events Search Get
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
      security:
        - OAuth2PasswordBearer: []
  /workflows/{workflow_id}/cases:
    post:
      tags:
        - cases
      summary: Create Case
      description: Create a new case for a workflow.
      operationId: create_case_workflows__workflow_id__cases_post
      security:
        - APIKeyHeader: []
      parameters:
        - name: workflow_id
          in: path
          required: true
          schema:
            type: string
            title: Workflow Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "#/components/schemas/CaseParams"
              title: Cases
      responses:
        "201":
          description: Successful Response
          content:
            application/json:
              schema: {}
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    get:
      tags:
        - cases
      summary: List Cases
      description: List all cases for a workflow.
      operationId: list_cases_workflows__workflow_id__cases_get
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: workflow_id
          in: path
          required: true
          schema:
            type: string
            title: Workflow Id
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 100
            title: Limit
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Case-Output"
                title: Response List Cases Workflows  Workflow Id  Cases Get
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /workflows/{workflow_id}/cases/{case_id}:
    get:
      tags:
        - cases
      summary: Get Case
      description: Get a specific case for a workflow.
      operationId: get_case_workflows__workflow_id__cases__case_id__get
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: workflow_id
          in: path
          required: true
          schema:
            type: string
            title: Workflow Id
        - name: case_id
          in: path
          required: true
          schema:
            type: string
            title: Case Id
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Case-Output"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    post:
      tags:
        - cases
      summary: Update Case
      description: Update a specific case for a workflow.
      operationId: update_case_workflows__workflow_id__cases__case_id__post
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: workflow_id
          in: path
          required: true
          schema:
            type: string
            title: Workflow Id
        - name: case_id
          in: path
          required: true
          schema:
            type: string
            title: Case Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CaseParams"
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema: {}
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /workflows/{workflow_id}/cases/{case_id}/events:
    post:
      tags:
        - cases
      summary: Create Case Event
      description: Create a new Case Event.
      operationId: create_case_event_workflows__workflow_id__cases__case_id__events_post
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: workflow_id
          in: path
          required: true
          schema:
            type: string
            title: Workflow Id
        - name: case_id
          in: path
          required: true
          schema:
            type: string
            title: Case Id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CaseEventParams"
      responses:
        "201":
          description: Successful Response
          content:
            application/json:
              schema: {}
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    get:
      tags:
        - cases
      summary: List Case Events
      description: List all Case Events.
      operationId: list_case_events_workflows__workflow_id__cases__case_id__events_get
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: workflow_id
          in: path
          required: true
          schema:
            type: string
            title: Workflow Id
        - name: case_id
          in: path
          required: true
          schema:
            type: string
            title: Case Id
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CaseEvent"
                title:
                  Response List Case Events Workflows  Workflow Id  Cases  Case
                  Id  Events Get
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /workflows/{workflow_id}/cases/{case_id}/events/{event_id}:
    get:
      tags:
        - cases
      summary: Get Case Event
      description: Get a specific case event.
      operationId: get_case_event_workflows__workflow_id__cases__case_id__events__event_id__get
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: workflow_id
          in: path
          required: true
          schema:
            type: string
            title: Workflow Id
        - name: case_id
          in: path
          required: true
          schema:
            type: string
            title: Case Id
        - name: event_id
          in: path
          required: true
          schema:
            type: string
            title: Event Id
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema: {}
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /case-actions:
    get:
      tags:
        - cases
      summary: List Case Actions
      description: List all case actions.
      operationId: list_case_actions_case_actions_get
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/CaseAction"
                type: array
                title: Response List Case Actions Case Actions Get
      security:
        - OAuth2PasswordBearer: []
    post:
      tags:
        - cases
      summary: Create Case Action
      description: Create a new case action.
      operationId: create_case_action_case_actions_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CaseActionParams"
        required: true
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CaseAction"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
      security:
        - OAuth2PasswordBearer: []
  /case-actions/{case_action_id}:
    delete:
      tags:
        - cases
      summary: Delete Case Action
      description: Delete a case action.
      operationId: delete_case_action_case_actions__case_action_id__delete
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: case_action_id
          in: path
          required: true
          schema:
            type: string
            title: Case Action Id
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema: {}
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /case-contexts:
    get:
      tags:
        - cases
      summary: List Case Contexts
      description: List all case contexts.
      operationId: list_case_contexts_case_contexts_get
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/tracecat__db__schemas__CaseContext"
                type: array
                title: Response List Case Contexts Case Contexts Get
      security:
        - OAuth2PasswordBearer: []
    post:
      tags:
        - cases
      summary: Create Case Context
      description: Create a new case context.
      operationId: create_case_context_case_contexts_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CaseContextParams"
        required: true
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/tracecat__db__schemas__CaseContext"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
      security:
        - OAuth2PasswordBearer: []
  /case-contexts/{case_context_id}:
    delete:
      tags:
        - cases
      summary: Delete Case Context
      description: Delete a case context.
      operationId: delete_case_context_case_contexts__case_context_id__delete
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: case_context_id
          in: path
          required: true
          schema:
            type: string
            title: Case Context Id
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema: {}
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /completions/cases/stream:
    post:
      tags:
        - cases
        - completions
      summary: Streaming Autofill Case Fields
      description: Use an LLM to autocomplete fields for cases.
      operationId: streaming_autofill_case_fields_completions_cases_stream_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Body_streaming_autofill_case_fields_completions_cases_stream_post"
        required: true
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
                title:
                  Response Streaming Autofill Case Fields Completions Cases Stream
                  Post
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
      security:
        - OAuth2PasswordBearer: []
  /users:
    get:
      tags:
        - users
      summary: Get User
      description: Get a user.
      operationId: get_user_users_get
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
      security:
        - OAuth2PasswordBearer: []
    post:
      tags:
        - users
      summary: Update User
      description: Update a user.
      operationId: update_user_users_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateUserParams"
        required: true
      responses:
        "204":
          description: Successful Response
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
      security:
        - OAuth2PasswordBearer: []
    delete:
      tags:
        - users
      summary: Delete User
      description: Delete a user.
      operationId: delete_user_users_delete
      responses:
        "204":
          description: Successful Response
      security:
        - OAuth2PasswordBearer: []
  /secrets:
    get:
      tags:
        - secrets
      summary: List Secrets
      description: List user secrets.
      operationId: list_secrets_secrets_get
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/SecretResponse"
                type: array
                title: Response List Secrets Secrets Get
      security:
        - OAuth2PasswordBearer: []
    post:
      tags:
        - secrets
      summary: Create Secret
      description: Create a secret.
      operationId: create_secret_secrets_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateSecretParams"
        required: true
      responses:
        "201":
          description: Successful Response
          content:
            application/json:
              schema: {}
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
      security:
        - OAuth2PasswordBearer: []
  /secrets/{secret_name}:
    get:
      tags:
        - secrets
      summary: Get Secret
      description: Get a secret.
      operationId: get_secret_secrets__secret_name__get
      security:
        - OAuth2PasswordBearer: []
        - APIKeyHeader: []
      parameters:
        - name: secret_name
          in: path
          required: true
          schema:
            type: string
            title: Secret Name
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Secret"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    post:
      tags:
        - secrets
      summary: Update Secret
      description: Update a secret
      operationId: update_secret_secrets__secret_name__post
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: secret_name
          in: path
          required: true
          schema:
            type: string
            title: Secret Name
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateSecretParams"
      responses:
        "201":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Secret"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    delete:
      tags:
        - secrets
      summary: Delete Secret
      description: Delete a secret.
      operationId: delete_secret_secrets__secret_name__delete
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: secret_name
          in: path
          required: true
          schema:
            type: string
            title: Secret Name
      responses:
        "204":
          description: Successful Response
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /secrets/search:
    post:
      tags:
        - secrets
      summary: Search Secrets
      description: "**[WORK IN PROGRESS]**   Get a secret by ID."
      operationId: search_secrets_secrets_search_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SearchSecretsParams"
        required: true
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/Secret"
                type: array
                title: Response Search Secrets Secrets Search Post
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
      security:
        - OAuth2PasswordBearer: []
  /udfs:
    get:
      tags:
        - udfs
      summary: List Udfs
      description: List all user-defined function specifications for a user.
      operationId: list_udfs_udfs_get
      security:
        - OAuth2PasswordBearer: []
        - APIKeyHeader: []
      parameters:
        - name: limit
          in: query
          required: false
          schema:
            anyOf:
              - type: integer
              - type: "null"
            title: Limit
        - name: ns
          in: query
          required: false
          schema:
            anyOf:
              - type: array
                items:
                  type: string
              - type: "null"
            title: Ns
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UDFSpec"
                title: Response List Udfs Udfs Get
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /udfs/{udf_key}:
    get:
      tags:
        - udfs
      summary: Get Udf
      description: Get a user-defined function specification.
      operationId: get_udf_udfs__udf_key__get
      security:
        - OAuth2PasswordBearer: []
        - APIKeyHeader: []
      parameters:
        - name: udf_key
          in: path
          required: true
          schema:
            type: string
            title: Udf Key
        - name: namespace
          in: query
          required: false
          schema:
            type: string
            title: Namespace
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UDFSpec"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
    post:
      tags:
        - udfs
      summary: Create Udf
      description: Create a user-defined function specification.
      operationId: create_udf_udfs__udf_key__post
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: udf_key
          in: path
          required: true
          schema:
            type: string
            title: Udf Key
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UDFSpec"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /udfs/{udf_key}/validate:
    post:
      tags:
        - udfs
      summary: Validate Udf Args
      description: Validate user-defined function's arguments.
      operationId: validate_udf_args_udfs__udf_key__validate_post
      security:
        - OAuth2PasswordBearer: []
      parameters:
        - name: udf_key
          in: path
          required: true
          schema:
            type: string
            title: Udf Key
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              title: Args
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UDFArgsValidationResponse"
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
  /validate-workflow:
    post:
      summary: Validate Workflow
      description: "Validate a workflow.


        This deploys the workflow and updates its version. If a YAML file is provided,
        it will override the workflow in the database."
      operationId: validate_workflow_validate_workflow_post
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/Body_validate_workflow_validate_workflow_post"
        required: true
      responses:
        "200":
          description: Successful Response
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/UDFArgsValidationResponse"
                type: array
                title: Response Validate Workflow Validate Workflow Post
        "422":
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HTTPValidationError"
      security:
        - OAuth2PasswordBearer: []
components:
  schemas:
    ActionMetadataResponse:
      properties:
        id:
          type: string
          title: Id
        workflow_id:
          type: string
          title: Workflow Id
        type:
          type: string
          title: Type
        title:
          type: string
          title: Title
        description:
          type: string
          title: Description
        status:
          type: string
          title: Status
        key:
          type: string
          title: Key
      type: object
      required:
        - id
        - workflow_id
        - type
        - title
        - description
        - status
        - key
      title: ActionMetadataResponse
    ActionResponse:
      properties:
        id:
          type: string
          title: Id
        type:
          type: string
          title: Type
        title:
          type: string
          title: Title
        description:
          type: string
          title: Description
        status:
          type: string
          title: Status
        inputs:
          type: object
          title: Inputs
        key:
          type: string
          title: Key
      type: object
      required:
        - id
        - type
        - title
        - description
        - status
        - inputs
        - key
      title: ActionResponse
    Body_commit_workflow_workflows__workflow_id__commit_post:
      properties:
        yaml_file:
          type: string
          format: binary
          title: Yaml File
      type: object
      title: Body_commit_workflow_workflows__workflow_id__commit_post
    Body_streaming_autofill_case_fields_completions_cases_stream_post:
      properties:
        cases:
          items:
            $ref: "#/components/schemas/Case-Input"
          type: array
          title: Cases
        fields:
          items:
            type: string
          type: array
          title: Fields
      type: object
      required:
        - cases
        - fields
      title: Body_streaming_autofill_case_fields_completions_cases_stream_post
    Body_validate_workflow_validate_workflow_post:
      properties:
        definition:
          type: string
          format: binary
          title: Definition
        payload:
          type: string
          format: binary
          title: Payload
      type: object
      required:
        - definition
      title: Body_validate_workflow_validate_workflow_post
    Case-Input:
      properties:
        id:
          type: string
          title: Id
        owner_id:
          type: string
          title: Owner Id
        workflow_id:
          type: string
          title: Workflow Id
        case_title:
          type: string
          title: Case Title
        payload:
          type: object
          title: Payload
        malice:
          type: string
          enum:
            - malicious
            - benign
          title: Malice
        status:
          type: string
          enum:
            - open
            - closed
            - in_progress
            - reported
            - escalated
          title: Status
        priority:
          type: string
          enum:
            - low
            - medium
            - high
            - critical
          title: Priority
        action:
          type: string
          enum:
            - ignore
            - quarantine
            - informational
            - sinkhole
            - active_compromise
          title: Action
        context:
          $ref: "#/components/schemas/ListModel_CaseContext_-Input"
        tags:
          $ref: "#/components/schemas/ListModel_Tag_"
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
      type: object
      required:
        - owner_id
        - workflow_id
        - case_title
        - payload
        - malice
        - status
        - priority
        - action
        - context
        - tags
      title: Case
      description: Case model used in the API and runner.
    Case-Output:
      properties:
        id:
          type: string
          title: Id
        owner_id:
          type: string
          title: Owner Id
        workflow_id:
          type: string
          title: Workflow Id
        case_title:
          type: string
          title: Case Title
        payload:
          type: object
          title: Payload
        malice:
          type: string
          enum:
            - malicious
            - benign
          title: Malice
        status:
          type: string
          enum:
            - open
            - closed
            - in_progress
            - reported
            - escalated
          title: Status
        priority:
          type: string
          enum:
            - low
            - medium
            - high
            - critical
          title: Priority
        action:
          type: string
          enum:
            - ignore
            - quarantine
            - informational
            - sinkhole
            - active_compromise
          title: Action
        context:
          $ref: "#/components/schemas/ListModel_CaseContext_-Output"
        tags:
          $ref: "#/components/schemas/ListModel_Tag_"
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
      type: object
      required:
        - owner_id
        - workflow_id
        - case_title
        - payload
        - malice
        - status
        - priority
        - action
        - context
        - tags
      title: Case
      description: Case model used in the API and runner.
    CaseAction:
      properties:
        owner_id:
          type: string
          title: Owner Id
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
        id:
          type: string
          title: Id
        tag:
          type: string
          title: Tag
        value:
          type: string
          title: Value
        user_id:
          anyOf:
            - type: string
            - type: "null"
          title: User Id
      type: object
      required:
        - owner_id
        - created_at
        - updated_at
        - tag
        - value
        - user_id
      title: CaseAction
    CaseActionParams:
      properties:
        tag:
          type: string
          title: Tag
        value:
          type: string
          title: Value
        user_id:
          anyOf:
            - type: string
            - type: "null"
          title: User Id
      type: object
      required:
        - tag
        - value
      title: CaseActionParams
    CaseContext-Input:
      properties:
        key:
          type: string
          title: Key
        value:
          type: string
          title: Value
      type: object
      required:
        - key
        - value
      title: CaseContext
    CaseContextParams:
      properties:
        tag:
          type: string
          title: Tag
        value:
          type: string
          title: Value
        user_id:
          anyOf:
            - type: string
            - type: "null"
          title: User Id
      type: object
      required:
        - tag
        - value
      title: CaseContextParams
    CaseEvent:
      properties:
        owner_id:
          type: string
          title: Owner Id
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
        id:
          type: string
          title: Id
        type:
          type: string
          title: Type
        workflow_id:
          type: string
          title: Workflow Id
        case_id:
          type: string
          title: Case Id
        initiator_role:
          type: string
          title: Initiator Role
        data:
          anyOf:
            - additionalProperties:
                anyOf:
                  - type: string
                  - type: "null"
              type: object
            - type: "null"
          title: Data
      type: object
      required:
        - owner_id
        - created_at
        - updated_at
        - type
        - workflow_id
        - case_id
        - initiator_role
        - data
      title: CaseEvent
    CaseEventParams:
      properties:
        type:
          type: string
          title: Type
        data:
          anyOf:
            - additionalProperties:
                anyOf:
                  - type: string
                  - type: "null"
              type: object
            - type: "null"
          title: Data
      type: object
      required:
        - type
        - data
      title: CaseEventParams
    CaseMetrics:
      properties:
        statues:
          items:
            additionalProperties:
              anyOf:
                - type: integer
                - type: number
            type: object
          type: array
          title: Statues
        priority:
          items:
            additionalProperties:
              anyOf:
                - type: integer
                - type: number
            type: object
          type: array
          title: Priority
        malice:
          items:
            additionalProperties:
              anyOf:
                - type: integer
                - type: number
            type: object
          type: array
          title: Malice
      type: object
      required:
        - statues
        - priority
        - malice
      title: CaseMetrics
      description: Summary statistics for cases over a time period.
    CaseParams:
      properties:
        id:
          type: string
          title: Id
        owner_id:
          type: string
          title: Owner Id
        created_at:
          type: string
          title: Created At
        updated_at:
          type: string
          title: Updated At
        workflow_id:
          type: string
          title: Workflow Id
        case_title:
          type: string
          title: Case Title
        payload:
          type: object
          title: Payload
        malice:
          type: string
          enum:
            - malicious
            - benign
          title: Malice
        status:
          type: string
          enum:
            - open
            - closed
            - in_progress
            - reported
            - escalated
          title: Status
        priority:
          type: string
          enum:
            - low
            - medium
            - high
            - critical
          title: Priority
        context:
          $ref: "#/components/schemas/ListModel_CaseContext_-Input"
        action:
          type: string
          enum:
            - ignore
            - quarantine
            - informational
            - sinkhole
            - active_compromise
          title: Action
        tags:
          $ref: "#/components/schemas/ListModel_Tag_"
      type: object
      required:
        - id
        - owner_id
        - created_at
        - updated_at
        - workflow_id
        - case_title
        - payload
        - malice
        - status
        - priority
        - context
        - action
        - tags
      title: CaseParams
    CopyWorkflowParams:
      properties:
        owner_id:
          type: string
          title: Owner Id
      type: object
      required:
        - owner_id
      title: CopyWorkflowParams
    CreateActionParams:
      properties:
        workflow_id:
          type: string
          title: Workflow Id
        type:
          type: string
          title: Type
        title:
          type: string
          title: Title
      type: object
      required:
        - workflow_id
        - type
        - title
      title: CreateActionParams
    CreateScheduleParams:
      properties:
        workflow_id:
          type: string
          pattern: wf-[0-9a-f]{32}
          title: Workflow Id
        inputs:
          anyOf:
            - type: object
            - type: "null"
          title: Inputs
        cron:
          anyOf:
            - type: string
            - type: "null"
          title: Cron
        every:
          type: string
          format: duration
          title: Every
          description: ISO 8601 duration string
        offset:
          anyOf:
            - type: string
              format: duration
            - type: "null"
          title: Offset
          description: ISO 8601 duration string
        start_at:
          anyOf:
            - type: string
              format: date-time
            - type: "null"
          title: Start At
          description: ISO 8601 datetime string
        end_at:
          anyOf:
            - type: string
              format: date-time
            - type: "null"
          title: End At
          description: ISO 8601 datetime string
        status:
          type: string
          enum:
            - online
            - offline
          title: Status
          default: online
      type: object
      required:
        - workflow_id
        - every
      title: CreateScheduleParams
    CreateSecretParams:
      properties:
        type:
          const: custom
          title: Type
          default: custom
        name:
          type: string
          title: Name
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
        keys:
          items:
            $ref: "#/components/schemas/SecretKeyValue"
          type: array
          title: Keys
        tags:
          anyOf:
            - additionalProperties:
                type: string
              type: object
            - type: "null"
          title: Tags
      type: object
      required:
        - name
        - keys
      title: CreateSecretParams
      description: "Create a new secret.


        Secret types

        ------------

        - `custom`: Arbitrary user-defined types

        - `token`: A token, e.g. API Key, JWT Token (TBC)

        - `oauth2`: OAuth2 Client Credentials (TBC)"
    CreateUserParams:
      properties:
        tier:
          type: string
          enum:
            - free
            - pro
            - enterprise
          title: Tier
          default: free
        settings:
          anyOf:
            - type: string
            - type: "null"
          title: Settings
      type: object
      title: CreateUserParams
    CreateWorkflowParams:
      properties:
        title:
          anyOf:
            - type: string
            - type: "null"
          title: Title
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
      type: object
      title: CreateWorkflowParams
    Event:
      properties:
        published_at:
          type: string
          format: date-time
          title: Published At
        action_id:
          type: string
          title: Action Id
        action_run_id:
          type: string
          title: Action Run Id
        action_title:
          type: string
          title: Action Title
        action_type:
          type: string
          title: Action Type
        workflow_id:
          type: string
          title: Workflow Id
        workflow_title:
          type: string
          title: Workflow Title
        workflow_run_id:
          type: string
          title: Workflow Run Id
        data:
          type: object
          title: Data
      type: object
      required:
        - published_at
        - action_id
        - action_run_id
        - action_title
        - action_type
        - workflow_id
        - workflow_title
        - workflow_run_id
        - data
      title: Event
    EventSearchParams:
      properties:
        workflow_id:
          type: string
          title: Workflow Id
        limit:
          type: integer
          title: Limit
          default: 1000
        order_by:
          type: string
          title: Order By
          default: pubished_at
        workflow_run_id:
          anyOf:
            - type: string
            - type: "null"
          title: Workflow Run Id
        query:
          anyOf:
            - type: string
            - type: "null"
          title: Query
        group_by:
          anyOf:
            - items:
                type: string
              type: array
            - type: "null"
          title: Group By
        agg:
          anyOf:
            - type: string
            - type: "null"
          title: Agg
      type: object
      required:
        - workflow_id
      title: EventSearchParams
    HTTPValidationError:
      properties:
        detail:
          items:
            $ref: "#/components/schemas/ValidationError"
          type: array
          title: Detail
      type: object
      title: HTTPValidationError
    ListModel_CaseContext_-Input:
      items:
        $ref: "#/components/schemas/CaseContext-Input"
      type: array
      title: ListModel[CaseContext]
    ListModel_CaseContext_-Output:
      items:
        $ref: "#/components/schemas/tracecat__types__api__CaseContext"
      type: array
      title: ListModel[CaseContext]
    ListModel_Tag_:
      items:
        $ref: "#/components/schemas/Tag"
      type: array
      title: ListModel[Tag]
    Schedule:
      properties:
        owner_id:
          type: string
          title: Owner Id
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
        id:
          type: string
          title: Id
        status:
          type: string
          title: Status
          default: online
        cron:
          anyOf:
            - type: string
            - type: "null"
          title: Cron
        inputs:
          type: object
          title: Inputs
        every:
          type: string
          format: duration
          title: Every
          description: ISO 8601 duration string
        offset:
          anyOf:
            - type: string
              format: duration
            - type: "null"
          title: Offset
          description: ISO 8601 duration string
        start_at:
          anyOf:
            - type: string
              format: date-time
            - type: "null"
          title: Start At
          description: ISO 8601 datetime string
        end_at:
          anyOf:
            - type: string
              format: date-time
            - type: "null"
          title: End At
          description: ISO 8601 datetime string
        workflow_id:
          anyOf:
            - type: string
            - type: "null"
          title: Workflow Id
      type: object
      required:
        - owner_id
        - created_at
        - updated_at
        - every
        - workflow_id
      title: Schedule
    SearchScheduleParams:
      properties:
        workflow_id:
          anyOf:
            - type: string
            - type: "null"
          title: Workflow Id
        limit:
          type: integer
          title: Limit
          default: 100
        order_by:
          type: string
          title: Order By
          default: created_at
        query:
          anyOf:
            - type: string
            - type: "null"
          title: Query
        group_by:
          anyOf:
            - items:
                type: string
              type: array
            - type: "null"
          title: Group By
        agg:
          anyOf:
            - type: string
            - type: "null"
          title: Agg
      type: object
      title: SearchScheduleParams
    SearchSecretsParams:
      properties:
        names:
          items:
            type: string
          type: array
          title: Names
      type: object
      required:
        - names
      title: SearchSecretsParams
    Secret:
      properties:
        owner_id:
          type: string
          title: Owner Id
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
        id:
          type: string
          title: Id
        type:
          type: string
          title: Type
          default: custom
        name:
          type: string
          maxLength: 255
          title: Name
          description: Secret names should be unique within a user's scope.
        description:
          anyOf:
            - type: string
              maxLength: 255
            - type: "null"
          title: Description
        encrypted_keys:
          type: string
          format: binary
          title: Encrypted Keys
        tags:
          anyOf:
            - additionalProperties:
                type: string
              type: object
            - type: "null"
          title: Tags
      type: object
      required:
        - owner_id
        - created_at
        - updated_at
        - name
        - encrypted_keys
        - tags
      title: Secret
    SecretKeyValue:
      properties:
        key:
          type: string
          title: Key
        value:
          type: string
          format: password
          title: Value
          writeOnly: true
      type: object
      required:
        - key
        - value
      title: SecretKeyValue
    SecretResponse:
      properties:
        id:
          type: string
          title: Id
        type:
          const: custom
          title: Type
        name:
          type: string
          title: Name
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
        keys:
          items:
            type: string
          type: array
          title: Keys
      type: object
      required:
        - id
        - type
        - name
        - keys
      title: SecretResponse
    StartWorkflowResponse:
      properties:
        status:
          type: string
          title: Status
        message:
          type: string
          title: Message
        id:
          type: string
          title: Id
      type: object
      required:
        - status
        - message
        - id
      title: StartWorkflowResponse
    Tag:
      properties:
        tag:
          type: string
          title: Tag
        value:
          type: string
          title: Value
        is_ai_generated:
          type: boolean
          title: Is Ai Generated
          default: false
      type: object
      required:
        - tag
        - value
      title: Tag
    TriggerWorkflowRunParams:
      properties:
        action_key:
          type: string
          title: Action Key
        payload:
          type: object
          title: Payload
      type: object
      required:
        - action_key
        - payload
      title: TriggerWorkflowRunParams
    UDFArgsValidationResponse:
      properties:
        ok:
          type: boolean
          title: Ok
        message:
          type: string
          title: Message
        detail:
          anyOf:
            - {}
            - type: "null"
          title: Detail
      type: object
      required:
        - ok
        - message
      title: UDFArgsValidationResponse
    UDFSpec:
      properties:
        owner_id:
          type: string
          title: Owner Id
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
        id:
          type: string
          title: Id
        description:
          type: string
          title: Description
        namespace:
          type: string
          title: Namespace
        key:
          type: string
          title: Key
        version:
          anyOf:
            - type: string
            - type: "null"
          title: Version
        json_schema:
          anyOf:
            - type: object
            - type: "null"
          title: Json Schema
        meta:
          anyOf:
            - type: object
            - type: "null"
          title: Meta
      type: object
      required:
        - owner_id
        - created_at
        - updated_at
        - description
        - namespace
        - key
        - json_schema
        - meta
      title: UDFSpec
      description: "UDF spec.


        Used in:

        1. Frontend action library

        2. Frontend integration action form"
    UpdateActionParams:
      properties:
        title:
          anyOf:
            - type: string
            - type: "null"
          title: Title
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
        status:
          anyOf:
            - type: string
            - type: "null"
          title: Status
        inputs:
          anyOf:
            - type: object
            - type: "null"
          title: Inputs
      type: object
      title: UpdateActionParams
    UpdateScheduleParams:
      properties:
        inputs:
          anyOf:
            - type: object
            - type: "null"
          title: Inputs
        cron:
          anyOf:
            - type: string
            - type: "null"
          title: Cron
        every:
          anyOf:
            - type: string
              format: duration
            - type: "null"
          title: Every
          description: ISO 8601 duration string
        offset:
          anyOf:
            - type: string
              format: duration
            - type: "null"
          title: Offset
          description: ISO 8601 duration string
        start_at:
          anyOf:
            - type: string
              format: date-time
            - type: "null"
          title: Start At
          description: ISO 8601 datetime string
        end_at:
          anyOf:
            - type: string
              format: date-time
            - type: "null"
          title: End At
          description: ISO 8601 datetime string
        status:
          anyOf:
            - type: string
              enum:
                - online
                - offline
            - type: "null"
          title: Status
      type: object
      title: UpdateScheduleParams
    UpdateSecretParams:
      properties:
        type:
          anyOf:
            - const: custom
            - type: "null"
          title: Type
        name:
          anyOf:
            - type: string
            - type: "null"
          title: Name
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
        keys:
          anyOf:
            - items:
                $ref: "#/components/schemas/SecretKeyValue"
              type: array
            - type: "null"
          title: Keys
        tags:
          anyOf:
            - additionalProperties:
                type: string
              type: object
            - type: "null"
          title: Tags
      type: object
      title: UpdateSecretParams
      description: "Create a new secret.


        Secret types

        ------------

        - `custom`: Arbitrary user-defined types

        - `token`: A token, e.g. API Key, JWT Token (TBC)

        - `oauth2`: OAuth2 Client Credentials (TBC)"
    UpdateWorkflowParams:
      properties:
        title:
          anyOf:
            - type: string
            - type: "null"
          title: Title
        description:
          anyOf:
            - type: string
            - type: "null"
          title: Description
        status:
          anyOf:
            - type: string
              enum:
                - online
                - offline
            - type: "null"
          title: Status
        object:
          anyOf:
            - type: object
            - type: "null"
          title: Object
        version:
          anyOf:
            - type: integer
            - type: "null"
          title: Version
        entrypoint:
          anyOf:
            - type: string
            - type: "null"
          title: Entrypoint
        icon_url:
          anyOf:
            - type: string
            - type: "null"
          title: Icon Url
      type: object
      title: UpdateWorkflowParams
    UpsertWebhookParams:
      properties:
        status:
          anyOf:
            - type: string
              enum:
                - online
                - offline
            - type: "null"
          title: Status
        entrypoint_ref:
          anyOf:
            - type: string
            - type: "null"
          title: Entrypoint Ref
        method:
          anyOf:
            - type: string
              enum:
                - GET
                - POST
            - type: "null"
          title: Method
      type: object
      title: UpsertWebhookParams
    User:
      properties:
        owner_id:
          type: string
          title: Owner Id
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
        id:
          type: string
          title: Id
        tier:
          type: string
          title: Tier
          default: free
        settings:
          anyOf:
            - type: string
            - type: "null"
          title: Settings
      type: object
      required:
        - owner_id
        - created_at
        - updated_at
      title: User
    ValidationError:
      properties:
        loc:
          items:
            anyOf:
              - type: string
              - type: integer
          type: array
          title: Location
        msg:
          type: string
          title: Message
        type:
          type: string
          title: Error Type
      type: object
      required:
        - loc
        - msg
        - type
      title: ValidationError
    WebhookResponse:
      properties:
        owner_id:
          type: string
          title: Owner Id
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
        id:
          type: string
          title: Id
        secret:
          type: string
          title: Secret
        status:
          type: string
          enum:
            - online
            - offline
          title: Status
        entrypoint_ref:
          anyOf:
            - type: string
            - type: "null"
          title: Entrypoint Ref
        filters:
          type: object
          title: Filters
        method:
          type: string
          enum:
            - GET
            - POST
          title: Method
        workflow_id:
          type: string
          title: Workflow Id
        url:
          type: string
          title: Url
      type: object
      required:
        - owner_id
        - created_at
        - updated_at
        - id
        - secret
        - status
        - filters
        - method
        - workflow_id
        - url
      title: WebhookResponse
    WorkflowDefinition:
      properties:
        owner_id:
          type: string
          title: Owner Id
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
        id:
          type: string
          title: Id
        version:
          type: integer
          title: Version
          description: DSL spec version
        workflow_id:
          type: string
          title: Workflow Id
        content:
          type: object
          title: Content
      type: object
      required:
        - owner_id
        - created_at
        - updated_at
        - version
        - workflow_id
        - content
      title: WorkflowDefinition
      description: "A workflow definition.


        This is the underlying representation/snapshot of a workflow in the system,
        which

        can directly execute in the runner.


        Shoulds

        -------

        1. Be convertible into a Workspace Workflow + Acitons

        2. Be convertible into a YAML DSL

        3. Be able to be versioned


        Shouldn'ts

        ----------

        1. Have any stateful information


        Relationships

        -------------

        - 1 Workflow to many WorkflowDefinitions"
    WorkflowExecutionResponse:
      properties:
        id:
          type: string
          title: Id
          description: The ID of the workflow execution
        run_id:
          type: string
          title: Run Id
          description: The run ID of the workflow execution
        start_time:
          type: string
          format: date-time
          title: Start Time
          description: The start time of the workflow execution
        execution_time:
          type: string
          format: date-time
          title: Execution Time
          description: When this workflow run started or should start.
        close_time:
          type: string
          format: date-time
          title: Close Time
          description: When the workflow was closed if closed.
        status:
          type: string
          enum:
            - RUNNING
            - COMPLETED
            - FAILED
            - CANCELED
            - TERMINATED
            - CONTINUED_AS_NEW
            - TIMED_OUT
        workflow_type:
          type: string
          title: Workflow Type
        task_queue:
          type: string
          title: Task Queue
      type: object
      required:
        - id
        - run_id
        - start_time
        - execution_time
        - close_time
        - status
        - workflow_type
        - task_queue
      title: WorkflowExecutionResponse
    WorkflowMetadataResponse:
      properties:
        id:
          type: string
          title: Id
        title:
          type: string
          title: Title
        description:
          type: string
          title: Description
        status:
          type: string
          title: Status
        icon_url:
          anyOf:
            - type: string
            - type: "null"
          title: Icon Url
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
        version:
          anyOf:
            - type: integer
            - type: "null"
          title: Version
      type: object
      required:
        - id
        - title
        - description
        - status
        - icon_url
        - created_at
        - updated_at
        - version
      title: WorkflowMetadataResponse
    WorkflowResponse:
      properties:
        id:
          type: string
          title: Id
        title:
          type: string
          title: Title
        description:
          type: string
          title: Description
        status:
          type: string
          title: Status
        actions:
          additionalProperties:
            $ref: "#/components/schemas/ActionResponse"
          type: object
          title: Actions
        object:
          anyOf:
            - type: object
            - type: "null"
          title: Object
        owner_id:
          type: string
          title: Owner Id
        version:
          anyOf:
            - type: integer
            - type: "null"
          title: Version
        webhook:
          $ref: "#/components/schemas/WebhookResponse"
        schedules:
          items:
            $ref: "#/components/schemas/Schedule"
          type: array
          title: Schedules
        entrypoint:
          anyOf:
            - type: string
            - type: "null"
          title: Entrypoint
      type: object
      required:
        - id
        - title
        - description
        - status
        - actions
        - object
        - owner_id
        - webhook
        - schedules
        - entrypoint
      title: WorkflowResponse
    tracecat__db__schemas__CaseContext:
      properties:
        owner_id:
          type: string
          title: Owner Id
        created_at:
          type: string
          format: date-time
          title: Created At
        updated_at:
          type: string
          format: date-time
          title: Updated At
        id:
          type: string
          title: Id
        tag:
          type: string
          title: Tag
        value:
          type: string
          title: Value
        user_id:
          anyOf:
            - type: string
            - type: "null"
          title: User Id
      type: object
      required:
        - owner_id
        - created_at
        - updated_at
        - tag
        - value
        - user_id
      title: CaseContext
    tracecat__types__api__CaseContext:
      properties:
        key:
          type: string
          title: Key
        value:
          type: string
          title: Value
      type: object
      required:
        - key
        - value
      title: CaseContext
  securitySchemes:
    OAuth2PasswordBearer:
      type: oauth2
      flows:
        password:
          scopes: {}
          tokenUrl: token
    APIKeyHeader:
      type: apiKey
      in: header
      name: X-API-Key
tags:
  - name: public
    description: Public facing endpoints
  - name: workflows
    description: Workflow management
  - name: actions
    description: Action management
  - name: triggers
    description: Workflow triggers
  - name: secrets
    description: Secret management
  - name: udfs
    description: User-defined functions
  - name: events
    description: Event management
  - name: cases
    description: Case management
