---
title: Installation
description: Run Tracecat locally
---

<Note>
  Self deployment can be tricky. We'd love to help on
  [Discord](https://discord.gg/n3GF4qxFU8)!
</Note>

Install Tracecat locally on your machine.

## Prerequisites

### Required

- [Docker](https://docs.docker.com/get-docker/)
- [Docker Compose](https://docs.docker.com/compose/install/)
- [ngrok](https://ngrok.com/)

### Optional

You don't have to set up these services to run Tracecat, but they are required for certain features.

- [OpenAI API key](https://platform.openai.com/signup) (required for AI actions)
- [Resend API Key](https://resend.com/docs/introduction) (required for Email actions)

## Setup

Please install the prerequisite tools beforehand.

Clone the Tracecat repository and navigate to the project root:

```bash
git clone git@github.com:TracecatHQ/tracecat.git
cd tracecat
```

### Environment variables

#### Manual

To manually set up environment variables, copy `.env.example` to create a `.env` file.

```bash
cp .env.example .env
```

You will have to replace the environment variables prefixed with `your-.*` with your own values.

#### Using `env.sh` (recommended)

The `env.sh` script runs commands to set up the database encryption key, API service key, and webhook signing secret for you.

Run the following command to create a `.env` file in the root directory:

```bash
chmod +x env.sh
bash env.sh
```

You'll be prompted to enter your public facing Runner URL, OpenAI API key, and Resend API key.
If you'd rather provide these later, you can skip each prompt step by pressing `Enter`.

If you use `ngrok`, the Runner URL should take the form `https://<your-ngrok-domain>.ngrok-free.app`.
See the section [Expose runner via ngrok](#expose-runner-via-ngrok) for more details.

### Expose runner via ngrok

Go to [ngrok](https://ngrok.com/) and create an account.
Follow the instructions in [getting started](https://dashboard.ngrok.com/get-started/setup) to install `ngrok` on your local machine.
Then, go to [ngrok dashboard](https://dashboard.ngrok.com/cloud-edge/domains) and create a new domain (you get 1 free static domain).
The domain should be in the format `<some-random-phrase>.ngrok-free.app`.

For example, if your ngrok domain is `your-grnok-domain.ngrok-free.app`, start `ngrok` by running the following command:

```bash
ngrok http --domain=your-ngrok-domain.ngrok-free.app 8001
```

If you don't have a static domain, you can use a free ephermeral domain by running:

```bash
ngrok http http://localhost:8001
```

<Note>
  By binding `ngrok` to port 8001 on the host machine, incoming webhook requests
  are forwarded to the Runner container.
</Note>

If correctly set up, your .env should contain:

```bash
TRACECAT__RUNNER_URL=https://your-ngrok-domain.ngrok-free.app
```

### Start Tracecat services

Finally, start Tracecat using `docker compose`:

```bash
docker compose up
```

## Access Tracecat

The Tracecat frontend should now be running on port `3000`.
To access the frontend, open your browser and navigate to `http://localhost:3000`.
You do not need to create an account for local usage.

Tracecat's API and runner servers are also accessible via ports `8000` and `8001`, respectively.
You can view the API docs at `http://localhost:8000/docs` and the runner docs at `http://localhost:8001/docs`.

<Check>
  Congratulations! You have successfully installed Tracecat. This setup includes
  the essential components to set up a Tracecat proof-of-concept (PoC). For
  production-ready self-hosting solution, we recommend using one of our [Cloud
  deployment](/deployment) strategies.
</Check>

## Stop Tracecat

To spin down all services, run the following command:

```bash
docker compose down --remove-orphans
```

## Authentication

So far, we've shown how to run Tracecat locally without authentication and runnning with a default user.

If you want to enable authentication, you can set the `TRACECAT__DISABLE_AUTH` environment variable to `false` or `0` in the `.env` file. This requires you to have a Clerk account and set up the Clerk environment variables in `.env`.

```bash
# --- Authentication + Clerk ---
TRACECAT__DISABLE_AUTH=0
# Fill these in!
CLERK_FRONTEND_API_URL=...
CLERK_SECRET_KEY=...
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=...
```

## Troubldshooting

### Docker networking

Some users face issues with Docker DNS resolution. What has often resolved their issues is to use `host.docker.internal` in certain places where container services are being referenced.
This allows Docker containers to reference the Docker host machine.

For example, if you have a service `api` running in a container with port mapping `1234:8000` (mapping of port 1234 on the Docker host and 8000 in the container), from inside the Docker network you should be able to reference it using `http://api:8000`.

We are working on a more robust solution to this issue - we appreciate your patience!
