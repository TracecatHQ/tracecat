## Minikube Local Development
## Prerequisites: minikube with ingress addon, CloudNativePG operator, secrets created
## Add to /etc/hosts: $(minikube ip) tracecat.local

secrets:
  existingSecret: tracecat-secrets

tracecat:
  auth:
    superadminEmail: admin@example.com

ingress:
  enabled: true
  className: nginx
  host: tracecat.local
  annotations:
    # Strip /s3 prefix for MinIO presigned URLs
    nginx.ingress.kubernetes.io/use-regex: "true"
    nginx.ingress.kubernetes.io/configuration-snippet: |
      rewrite ^/s3/(.*)$ /$1 break;

# Use internal subcharts (default)
temporal:
  enabled: true
postgres:
  enabled: true
redis:
  enabled: true
minio:
  enabled: true

# Replica overrides for local development (resources use chart defaults)
api:
  replicas: 1

worker:
  replicas: 1

executor:
  replicas: 1

ui:
  replicas: 1
